---
version: 1
kind: component

requires:
  - kubernetes

parameters:
  - name: dns.domain
    env: HUB_DOMAIN_NAME
  - name: component.ingress.protocol

  - name: component.istio.namespace
  - name: component.istio.ingressGateway

  - name: component.kubeflow
    parameters:
      - name: name
      - name: namespace
        env: NAMESPACE
      - name: version
        value: v1.5.1
      - name: tarball
        value: "https://codeload.github.com/kubeflow/manifests/tar.gz/${component.kubeflow.version}"
        env: HUB_KUSTOMIZE_TARBALL_URL

      - name: tarball.dirs
        value: "apps/pipeline/upstream/third-party/application/cluster-scoped:application apps/pipeline/upstream/third-party/metacontroller/base/:metacontroller common/kubeflow-roles/base:kubeflow-roles common/istio-1-11/kubeflow-istio-resources/base:istio"
        env: HUB_KUSTOMIZE_TARBALL_SUBPATHS

templates:
  files:
    - "*.template"
